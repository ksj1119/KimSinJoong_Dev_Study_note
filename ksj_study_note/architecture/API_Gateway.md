# 🌐 API Gateway

**API Gateway**는 클라이언트와 여러 개의 백엔드 서비스 사이에서 **중재자** 역할을 하는 서버입니다.  
API Gateway는 여러 서비스와의 통합을 단일 진입점(단일 API 엔드포인트)으로 관리하고, 클라이언트 요청을 적절한 서비스로 라우팅합니다.

---

## 💡 기본 개념

- **API Gateway**는 다양한 서비스의 API를 **하나의 엔드포인트**로 통합하여 제공하며, 클라이언트는 이 단일 엔드포인트를 통해 여러 서비스에 접근할 수 있습니다.
- 클라이언트 요청을 받은 후, API Gateway는 이를 적절한 백엔드 서비스로 라우팅하고, 필요한 경우 응답을 변형하거나 집계합니다.

---

## 🧱 API Gateway의 역할

| 항목 | 설명 |
|------|------|
| **요청 라우팅** | 클라이언트 요청을 적절한 서비스로 라우팅합니다. |
| **인증 및 권한 관리** | 클라이언트의 인증 정보를 확인하고, 서비스 호출을 위한 권한을 검증합니다. |
| **API 집계** | 여러 서비스의 결과를 집계하여 클라이언트에 전달할 수 있습니다. |
| **부하 분산** | 트래픽을 여러 서비스 인스턴스에 분배하여 시스템의 부하를 분산시킵니다. |
| **로깅 및 모니터링** | 클라이언트 요청과 응답을 로깅하고, 시스템 상태를 모니터링하여 문제를 추적할 수 있습니다. |
| **응답 캐싱** | 자주 요청되는 데이터를 캐시하여 성능을 최적화합니다. |
| **서비스 간 통신** | 서비스 간의 통신을 효율적으로 처리하고, 복잡한 프로세스를 단순화합니다. |

---

## 🔧 API Gateway의 장점

1. **단일 진입점**: 클라이언트는 여러 백엔드 서비스를 직접 호출하는 대신, 하나의 API Gateway를 통해 모든 서비스를 이용할 수 있습니다.
2. **보안 관리**: 인증, 권한 부여, API 키 관리 등 보안 기능을 중앙에서 처리하여 보안 수준을 높일 수 있습니다.
3. **서비스 간 통합**: 다양한 서비스를 통합하여 클라이언트가 여러 서비스를 처리하는 복잡성을 줄일 수 있습니다.
4. **서비스 디스커버리 지원**: 서비스가 동적으로 변할 때 API Gateway가 이를 처리하여 서비스 디스커버리 시스템과 연동할 수 있습니다.
5. **성능 최적화**: 응답 캐싱, 로깅, 부하 분산 등의 기능으로 성능을 개선할 수 있습니다.

---

## ⚠️ API Gateway의 단점

1. **단일 실패 지점**: 모든 요청이 API Gateway를 거치기 때문에, 이 서버가 다운되면 전체 시스템에 영향을 미칠 수 있습니다.
2. **성능 오버헤드**: 모든 요청을 처리하는 역할을 하므로, 특히 요청이 많을 경우 성능 저하를 초래할 수 있습니다.
3. **복잡한 구성**: 다양한 서비스와의 통합이 필요하므로 설정과 관리가 복잡할 수 있습니다.
4. **모니터링의 어려움**: 여러 서비스의 로깅과 모니터링을 중앙에서 처리하다 보면, 문제 해결에 시간이 걸릴 수 있습니다.

---

## 🧩 API Gateway 사용 예시

1. **Microservices Architecture**: 마이크로서비스 아키텍처에서 여러 개의 서비스를 단일 엔드포인트로 제공하여 클라이언트가 각 서비스를 개별적으로 호출하는 부담을 줄여줍니다.
2. **REST API**: 여러 RESTful 서비스들을 API Gateway를 통해 통합하여 클라이언트에게 일관된 API를 제공합니다.
3. **모바일 애플리케이션**: 여러 백엔드 시스템에 대한 요청을 하나의 API Gateway로 통합하여 모바일 애플리케이션에서 일관된 응답을 제공합니다.
4. **서드파티 통합**: 외부 서비스와 통합할 때, API Gateway가 중간에서 역할을 수행하여 다양한 외부 API와의 호출을 관리합니다.

---

## 📚 API Gateway 예시

1. **Kong**: 인기 있는 오픈 소스 API Gateway로, 트래픽 관리, 인증, 로깅, 모니터링 등을 제공합니다.
2. **AWS API Gateway**: AWS에서 제공하는 완전 관리형 API Gateway 서비스로, 클라우드 기반 애플리케이션에 쉽게 통합할 수 있습니다.
3. **Nginx**: 주로 웹 서버로 사용되지만, API Gateway 역할을 수행할 수 있으며, 로드 밸런싱과 리버스 프록시 기능도 제공합니다.

---

## 🧠 요약

- **API Gateway**는 **클라이언트와 백엔드 서비스** 사이에서 중재자 역할을 하며, **요청 라우팅**, **인증**, **부하 분산**, **캐싱** 등의 기능을 제공합니다.
- 여러 서비스의 API를 하나의 **단일 진입점**으로 통합하고, 보안 및 성능 최적화를 통해 애플리케이션을 관리하기 쉽게 만들어줍니다.
- 그러나, **단일 실패 지점**, **성능 오버헤드** 등의 단점도 존재하므로, 이를 해결하기 위한 **확장성** 및 **모니터링** 전략이 필요합니다.

---
