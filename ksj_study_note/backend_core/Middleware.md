# 🔁 Middleware (미들웨어)

**Middleware**는 애플리케이션의 핵심 로직으로 가기 전에 실행되는 **중간 처리 계층**입니다.  
주로 요청(Request)과 응답(Response) 사이에서 데이터를 가로채어 **검증, 로깅, 보안, 인증 등의 작업**을 수행합니다.

---

## 💡 개념 정리

- 클라이언트의 요청이 컨트롤러나 라우터에 도달하기 전/후에 실행되는 중간 처리 로직
- 웹 프레임워크, 서버, API 시스템 등 다양한 환경에서 사용됨
- 체인 방식으로 여러 미들웨어가 연결되어 동작

---

## 🧱 주요 역할

| 역할 | 설명 |
|------|------|
| 인증(Authentication) | 로그인 여부 확인 |
| 권한 확인(Authorization) | 관리자 등 권한 확인 |
| 로깅(Logging) | 요청/응답 내용 기록 |
| 에러 처리(Error Handling) | 예외 발생 시 공통 처리 |
| 데이터 파싱(Parsing) | JSON, Form 데이터 처리 |
| CORS 처리 | 교차 출처 리소스 공유 허용 설정 |
| 요청 제한(Rate Limiting) | 요청 횟수 제한 |

---

## 📚 사용 예 (언어/프레임워크별)

| 플랫폼 | 미들웨어 사용 예 |
|--------|------------------|
| Node.js (Express) | `app.use()`로 미들웨어 등록 |
| Django | `MIDDLEWARE` 설정으로 순서 정의 |
| Spring | `HandlerInterceptor`, `Filter` |
| Laravel (PHP) | `Middleware` 클래스 생성 및 등록 |
| FastAPI | `add_middleware()` 함수 사용 |

---

## ✅ 장점

- 공통 로직 분리 → 코드 재사용성 증가
- 요청 흐름을 제어하여 보안 및 성능 향상
- 체인 구조로 유연한 확장 가능

---

## ⚠️ 유의사항

- 미들웨어 순서에 따라 결과가 달라질 수 있음
- 너무 많은 미들웨어는 성능 저하 초래 가능
- 예외 처리 미들웨어는 마지막에 배치

---

## 🧠 요약

- **Middleware는 요청 처리 전후에 실행되는 중간 계층 로직**
- 인증, 로깅, 에러 처리 등 공통 기능을 분리하여 유지보수성과 확장성을 높여줌
- 다양한 프레임워크에서 핵심 구조로 채택됨

---
