# 람다식과 함수형 인터페이스의 이해

---

## 🔹 람다식이란?

람다식은 Java 8에 도입된 기능으로, **익명 함수(Anonymous Function)**를 표현하기 위한 문법이다.  
기존의 익명 내부 클래스보다 훨씬 간결하게 콜백, 전략, 이벤트 리스너 등을 구현할 수 있게 해준다.

핵심 개념:
- 불필요한 클래스 선언 제거
- 함수형 스타일의 API 설계 가능 (ex: Stream)
- 코드 가독성 및 재사용성 향상

---

## 🔹 함수형 인터페이스란?

**단 하나의 추상 메서드만 가지는 인터페이스**를 의미한다.  
람다식은 이 인터페이스의 구현체를 표현하기 위한 문법적 표현으로 사용된다.

Java는 대표적인 함수형 인터페이스들을 java.util.function 패키지에 정의해두고 있다.

---

## 🔹 표준 함수형 인터페이스 비교

| 인터페이스 이름       | 매개변수 수 | 반환 여부 | 용도 예시                     |
|------------------------|-------------|-----------|-------------------------------|
| Function<T, R>         | 1           | 있음      | T를 R로 변환                  |
| Consumer<T>            | 1           | 없음      | T를 소비 (출력, 저장 등)     |
| Supplier<T>            | 0           | 있음      | T를 생성 또는 반환           |
| Predicate<T>           | 1           | boolean   | 조건 검사                     |
| BiFunction<T, U, R>    | 2           | 있음      | 두 인자를 변환하여 R 반환     |

---

## 🔹 메서드 참조와의 관계

람다식은 기존 메서드를 참조하는 형태로도 사용할 수 있으며, 이를 **메서드 참조(Method Reference)**라고 한다.  
이는 함수형 인터페이스의 메서드 시그니처와 기존 메서드가 일치할 경우, 람다식을 더 간결하게 대체할 수 있도록 해준다.

---

## 🔹 커스텀 함수형 인터페이스 설계

자신만의 함수형 인터페이스를 만들 경우, `@FunctionalInterface` 어노테이션을 사용하는 것이 권장된다.  
이는 컴파일 타임에서 해당 인터페이스가 함수형 규약(단일 추상 메서드)을 따르고 있는지 검사하게 해준다.

여러 개의 메서드가 선언될 경우 컴파일 에러를 발생시켜 의도하지 않은 설계를 방지할 수 있다.

---

## 🔹 람다 사용 시 주의사항

- 람다식 내에서 참조하는 외부 변수는 반드시 final 또는 사실상 final이어야 한다.
- 내부 상태 변경을 수반하는 람다는 사이드 이펙트를 유발할 수 있으며 함수형 스타일에 위배된다.
- 람다는 재사용성을 위해 순수 함수처럼 설계하는 것이 권장된다.

---

## 🔹 람다와 익명 클래스의 차이점

| 항목                 | 람다식                         | 익명 클래스                     |
|----------------------|--------------------------------|----------------------------------|
| 코드 길이            | 매우 간결함                    | 장황하고 중첩 구조 많음         |
| this 키워드           | 외부 클래스 참조                | 내부 익명 클래스 자신 참조      |
| 상태 보관 가능 여부  | 불가능 (stateless 설계 지향)    | 가능 (필드 선언 가능)           |
| 목적                 | 함수 전달용 (단일 메서드 구현)  | 임시 클래스 정의 및 다중 기능    |

---

## ✅ 정리 요약

- 람다식은 함수형 인터페이스를 구현하기 위한 문법적 축약이며, Java에서 함수형 프로그래밍을 가능하게 만든 핵심 기능이다.
- Java는 다양한 표준 함수형 인터페이스를 제공하며, 람다식은 이와 결합되어 고차 함수 구조를 구성한다.
- 람다식은 상태를 가지지 않는 순수한 표현으로 사용할 때 가장 이상적이며, 복잡한 로직이나 상태 변경이 필요할 경우 익명 클래스나 명시적 클래스 정의가 더 적절할 수 있다.
